"use strict";!function(){function e(e){fetch(e).then(function(e){if(e)return e.json();throw new Error("ERROR while fetching!")}).then(function(e){console.log(e);var n=_.map(e.hits,function(e){return{img:e.webformatURL,author:e.user}});t(a,n,i),o()}).catch(function(e){console.log("Error = "+e)})}function t(e,t,n){var o="";_.forEach(t,function(t){o+=e(t)}),n.innerHTML=o}function n(e){return"https://pixabay.com/api/?key=5784767-53bd9d6bd61ccfc7d2428b16b&q="+e+"&per_page=7&image_type=photo"}function o(){setTimeout(function(){var e=document.querySelector("#tile-container");new Masonry(e,{columnWidth:300,itemSelector:".tile__item",gutter:20})},500)}var c=document.querySelector("#searchBtn"),r=document.querySelector("#searchIn"),i=document.querySelector("#tile-container"),u=document.querySelector("#article__item").textContent,a=_.template(u);e("https://pixabay.com/api/?key=5784767-53bd9d6bd61ccfc7d2428b16b&image_type=photo&pretty=true&per_page=7"),r.addEventListener("keypress",function(t){13===(t.which||t.keyCode)&&e(n(r.value))}),c.addEventListener("click",function(){e(n(r.value))})}();